{"title":"linux 基础2","slug":"linux-基础2","date":"2019-02-20T17:43:30.000Z","updated":"2019-02-25T02:19:38.672Z","comments":true,"path":"api/articles/linux-基础2.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">linux组基本介绍</span><br><span class=\"line\">在linux中每个用户属于一个组，不能独立与组外，在linux中每个文件有所有者，所在组，其他组的概念。</span><br><span class=\"line\">所有者，</span><br><span class=\"line\">所在组，</span><br><span class=\"line\">其他组</span><br><span class=\"line\">改变用户所在组。</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">文件目录所有者：一般文件的创建者，谁创建了该文件，就自然成为了该文件的所有者。</span><br><span class=\"line\">查看文件所有者</span><br><span class=\"line\">1)指令 ls -ahl   /**   all human list*/</span><br><span class=\"line\"></span><br><span class=\"line\">修改文件所有者</span><br><span class=\"line\">id 用户名</span><br><span class=\"line\">指令chown 用户名 文件名 。 修改了用户名 但是没能修改用户者</span><br><span class=\"line\">修改文件所在组</span><br><span class=\"line\">chgrp 组名 文件名</span><br><span class=\"line\"></span><br><span class=\"line\">权限管理</span><br><span class=\"line\">-rw-r--r--， 文件目录4096</span><br><span class=\"line\">-普通文件</span><br><span class=\"line\"> d 目录</span><br><span class=\"line\"> l:软连接</span><br><span class=\"line\"> c:字符设备比如键盘、鼠标</span><br><span class=\"line\"> b 块文件比如硬盘</span><br><span class=\"line\">-dlcb 文件类型</span><br><span class=\"line\">rw 文件权限</span><br><span class=\"line\">文件所有者权限 rw--</span><br><span class=\"line\">文件所在用户组的权限r--</span><br><span class=\"line\">文件其他用户者的权限r--</span><br><span class=\"line\">eg   d  rwx------. 7 tom  police     4096 2月  20 23:04 tom</span><br><span class=\"line\">(0-9)说明</span><br><span class=\"line\">第0位确定文件类型</span><br><span class=\"line\">第1-3确定所有者（该文件的所有者）拥有该文件的权限  ---User</span><br><span class=\"line\">第4-6确定所属组（同用户组的）拥有该文件的权限  ---group</span><br><span class=\"line\">第7-9确定其他用户拥有该文件的权限    ---other</span><br><span class=\"line\"></span><br><span class=\"line\">------------------------</span><br><span class=\"line\"></span><br><span class=\"line\">7：代表目录下的子文件夹 包含隐藏文件夹 . 、.. ls -l</span><br><span class=\"line\">tom :用户者</span><br><span class=\"line\">police:所在用户组</span><br><span class=\"line\">4096:文件目录</span><br><span class=\"line\">2月  20 23:04：最后修改时间</span><br><span class=\"line\">tom：文件名</span><br><span class=\"line\"></span><br><span class=\"line\">rwx 作用到文件</span><br><span class=\"line\">r代表可以读取，查看权限</span><br><span class=\"line\">w:代表可写，可以修改，但是不代表可以删除文件，删除文件的前提条件是对该文件所在目录有写权限，才能删除文件。</span><br><span class=\"line\">x:代表可执行，可以被执行</span><br><span class=\"line\"></span><br><span class=\"line\">rwx作用的目录</span><br><span class=\"line\">r:代表可读权限，ls查看你目录内容  4</span><br><span class=\"line\">w：代表可写权限，可以修改、目录内创建+删除+重命名目录  2</span><br><span class=\"line\">x:代表可执行可以进入该目录 1</span><br><span class=\"line\"></span><br><span class=\"line\">chmod指令：可以用来修改文件或者目录权限</span><br><span class=\"line\">+ - =变更权限  u:所有者 g:所有组  o:其他人 a:所有人 (u +g +o)</span><br><span class=\"line\">chmod u=rwx,g=rx，o=x 目录名</span><br><span class=\"line\">chmod o+w 文件目录名</span><br><span class=\"line\">chmod a+r 目录</span><br><span class=\"line\">r+w+x=7 r-x=5 r-x=5</span><br><span class=\"line\">chmod 755/home/abc.txt</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">修改文件所有者</span><br><span class=\"line\">chown -R ower 目录</span><br><span class=\"line\">chown newowe file 改变文件所有者</span><br><span class=\"line\">chown newowener:newgroup file 改变用户所有者和权限</span><br><span class=\"line\">-R 如果是目录，递归生效</span><br><span class=\"line\"></span><br><span class=\"line\">任务调度</span><br><span class=\"line\">crontab 进行定时任务的设置</span><br><span class=\"line\">概述：1.任务调度：是指系统在某一时间执行的特点命令或程序</span><br><span class=\"line\">任务跳度分类：1.系统工作 有些重要工作必须周而复始的执行，入病毒扫描</span><br><span class=\"line\">                      2.个别用户工作，个别用户可能希望执行某些程序，比如mysql 数据库备份</span><br><span class=\"line\">选项： -e:crontab定时任务</span><br><span class=\"line\">           -l 查询crontab 任务</span><br><span class=\"line\">           -r 删除当前用户所有的crontab 任务</span><br><span class=\"line\">            service crontab restart [重启任务调度]</span><br><span class=\"line\"></span><br><span class=\"line\">eg每小时每分钟执行  */1 * * * * ls -l /etc/ &gt;&gt;/tmp/to.txt   保存后生效</span><br><span class=\"line\">* 占位符说明</span><br><span class=\"line\">第一个 * 一小时当中的第几分钟  0-59</span><br><span class=\"line\">第二个 *  一天当中第几个小时  0-23</span><br><span class=\"line\">第三个 *  一个月中当中第几天  1-31</span><br><span class=\"line\">第四个 *   一年当中第几个月  1-12</span><br><span class=\"line\">第五个 *  一周当中的星期几 0-7  07 代表星期天</span><br><span class=\"line\"></span><br><span class=\"line\">linux 分区</span><br><span class=\"line\">分区</span><br><span class=\"line\">mbr: 最多支持4个分区</span><br><span class=\"line\">系统只能安装在主分区</span><br><span class=\"line\">扩展分区要占一个主分区</span><br><span class=\"line\">mbr 最大支持2tb ,但拥有最好的兼容性</span><br><span class=\"line\"></span><br><span class=\"line\">gpt:</span><br><span class=\"line\">支持无限多个主分区</span><br><span class=\"line\">最大支持18eb 大容量</span><br><span class=\"line\">win64 支持gpt</span><br><span class=\"line\">lsblk -f: 查看系统分区和挂载情况</span><br><span class=\"line\">硬盘说明： linux 硬盘分为IDE 和SCSI硬盘 目前基本是SCSI</span><br><span class=\"line\">对于IDE 硬盘 驱动器符标识符“hdax~” ，其中“hd”表明分区所在的设备类型</span><br><span class=\"line\">x为盘号：（a 基本盘 b 基本从属盘 c辅助主盘 d为从属盘  ）</span><br><span class=\"line\">~为分区：数字1-4主分区和扩展分区；从5开始为逻辑分区</span><br><span class=\"line\">eg:hda3：表示第一个IDE硬盘上第三个主分区或扩展分区</span><br><span class=\"line\">     hdb2:  表示第二个IDE 硬盘上第二个主分区或扩展分区</span><br><span class=\"line\">scsi 硬盘标识：“sdk” scsi 硬盘是用 sd:表示分区所在设备类型 其余则和ide硬盘表示方法一样。</span><br><span class=\"line\"></span><br><span class=\"line\">如何添加一块硬盘</span><br><span class=\"line\">虚拟机添加硬盘</span><br><span class=\"line\">分区</span><br><span class=\"line\">1.fdisk /dev/sdb  输入m帮助选项 n , n</span><br><span class=\"line\">2.add a new partition  p</span><br><span class=\"line\">3.primary partition (1-4)</span><br><span class=\"line\">4.Partition number (1-4): 1  5.   w   write table to disk and <span class=\"built_in\">exit</span></span><br><span class=\"line\">格式化    mkfs -t ext4 /dev/sdb1</span><br><span class=\"line\">挂载    mkdir /home/newdisk  mount  /dev/sdb1  /home/newdisk 重启不挂载，</span><br><span class=\"line\">设置自动挂载 重启也挂载</span><br><span class=\"line\">1.设置 进入：vim /etc/fstab</span><br><span class=\"line\">2.编辑 复制一行在编辑 ；正常模式下 yy p</span><br><span class=\"line\">/dev/sdb1                                  /home/newdisk</span><br><span class=\"line\">3.mount -a 重新挂载</span><br><span class=\"line\">卸载挂载 umont 设备名称或者挂载目录</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">查询系统磁盘使用情况</span><br><span class=\"line\">df -h</span><br><span class=\"line\"></span><br><span class=\"line\">查询指定目录的磁盘占用情况</span><br><span class=\"line\">du  -h /目录</span><br><span class=\"line\">选项：</span><br><span class=\"line\">-s 指定目录大小占用汇总</span><br><span class=\"line\">-h 带计量单位</span><br><span class=\"line\">-a 含文件</span><br><span class=\"line\">-max-depth= 子目录深度</span><br><span class=\"line\">-c 列出明细同时，增加汇总值</span><br><span class=\"line\">-/opt目录磁盘占用情况</span><br><span class=\"line\">du -ach --max-depth=1 /opt</span><br><span class=\"line\">统计文件夹下有多少个文件 ls -l /home | grep <span class=\"string\">\"^-\"</span> | grep wc -l       //wc统计 ^:定位</span><br><span class=\"line\">统计目录下有多少个文件 ls  -l /home | grep <span class=\"string\">\"^d\"</span> | grep wc -l</span><br><span class=\"line\">统计文件文件夹下文件的个数： ls -lR /home  |  grep <span class=\"string\">\"^-\"</span> |  wc -l</span><br><span class=\"line\">统计文件文件夹下目录的个数： ls -lR /home  |  grep <span class=\"string\">\"^d\"</span> |  wc -l</span><br><span class=\"line\">yum install tree</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">linux 网络配置</span><br><span class=\"line\">nat:网络转换模式 通过window  vmnet 8虚拟网卡</span><br><span class=\"line\">修改虚拟机虚拟网关IP “查看 虚拟机  -----编辑 -----虚拟网络编辑器</span><br><span class=\"line\">                                                                          nat 设置：修改网关</span><br><span class=\"line\">1.登陆后自动连接：linux界面 系统--》首选项--》网络连接--》编辑--》自动连接</span><br><span class=\"line\">缺点：linux 启动后会自动获取ip缺点是每次获取的IP地址都不一样，这个不适合做服务器，因为我们的服务器是固定的。</span><br><span class=\"line\">第二种方法：（指定固定ip） vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class=\"line\">BOOTPROTO=static |  dhcp :static</span><br><span class=\"line\">ONBOOT=yes</span><br><span class=\"line\">重启网络服务才生效</span><br><span class=\"line\">重启服务：service network restart</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">服务管理：service 服务名 【start | stop | restart | reload | status】 centos7.0 不再使用service 是 systemct</span><br><span class=\"line\"> 服务的本质就是进程，但是是运行在后台，通常会监听某个端口，等待其他程序的请求（mysql sshd 防火墙）</span><br><span class=\"line\"> 因此我们又称为守护进程</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">开启或启用防火墙后，立即生效。【telent 测试 某个端口即可】</span><br><span class=\"line\">这种方法知识临时生效，当重启系统后，还是回归以前服务的设置。</span><br><span class=\"line\">如果希望某个服务启动或关闭永久生效， 要使用 chkconfig指令。</span><br><span class=\"line\"></span><br><span class=\"line\">windos  通过telent 指令检查linux 某个端口是否在监听，并且可以访问。</span><br><span class=\"line\">dos:telnet ip 端口、</span><br><span class=\"line\"></span><br><span class=\"line\">1.使用setup -&gt;系统服务可以看到 按空格键取消。</span><br><span class=\"line\">2. ls -l /etc/init.d /服务名称</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">runlevel 运行级别</span><br><span class=\"line\">查看或编辑运行级别：vi /etc/inittab</span><br><span class=\"line\">有7种</span><br><span class=\"line\">运行级别0，系统停机状态。系统默认级别不能设置为0，否则不能正常启动</span><br><span class=\"line\">运行级别1   单用户工作状态，root 权限，用于系统维护，禁止远程登陆</span><br><span class=\"line\">运行级别2  多用户状态 没有nfs 不支持网络</span><br><span class=\"line\">运行级别3 完全多用户（有nfs 登陆后进入控制台命令</span><br><span class=\"line\">运行级别4 系统未使用 保留</span><br><span class=\"line\">运行级别 5 x11控制台 登陆后进入图形GUI模式</span><br><span class=\"line\">运行几倍 6 系统正常关闭启动，默认运行级别不能设置6，否则不能正常启动。</span><br><span class=\"line\"></span><br><span class=\"line\">开机  -bios -boot -init -运行级别--运行级别对应服务。</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">chkconfig命令可以给每个各个运行级别设置自启动/关闭 ,需要重启机器reboot才能生效。</span><br><span class=\"line\">1.查看服务 chkconfig  --list | grep xxx</span><br><span class=\"line\">2.chkconfig 服务名 --list</span><br><span class=\"line\">3.chkconfig -level 5 服务名 on/off</span><br><span class=\"line\">eg ：chkconfig --level 5 sshd off</span><br><span class=\"line\">        chkconfig  sshd --list</span><br><span class=\"line\">eg  ：chkconfig --levle 5 iptables off</span><br><span class=\"line\">         chkconfig iptables --list</span><br><span class=\"line\">所有运行级别下关闭防火墙</span><br><span class=\"line\">       chkconfig iptables off</span><br><span class=\"line\">所有运行级别下开启防火墙</span><br><span class=\"line\">       chkconfig iptables on</span><br><span class=\"line\">查看服务的运行状态</span><br><span class=\"line\">service sshd status</span><br><span class=\"line\"></span><br><span class=\"line\">动态监控进程 top</span><br><span class=\"line\">用来显示正在执行的进程。 top 与ps最大的不同之处。 在于top在执行一段时间可以更新正在运行的进程。</span><br><span class=\"line\">输入：u 查看你用户使用进程、</span><br><span class=\"line\">输入：k  和  进程号     结束进程号</span><br><span class=\"line\"></span><br><span class=\"line\">选项-d  | -i | -p</span><br><span class=\"line\">-d 秒数 : 指定top 命令每隔几秒更新 默认三秒</span><br><span class=\"line\">-i: 使top不显示任何闲置或者僵死进程</span><br><span class=\"line\">-p ：通过指定监控进程id 仅仅监控某个进程的状态</span><br><span class=\"line\">交互指令 P、M、N、Q</span><br><span class=\"line\">P：以cpu 使用率排序默认项</span><br><span class=\"line\">M:以内存使用率</span><br><span class=\"line\">N：以PID排序</span><br><span class=\"line\">q:退出top</span><br><span class=\"line\"></span><br><span class=\"line\">top 当前时间按up 运行时间  load average负载均衡&lt;0.7  任务数、运行数 休眠数 停止数 僵死进程</span><br><span class=\"line\">cpu</span><br><span class=\"line\"></span><br><span class=\"line\">查看系统网络基本情况</span><br><span class=\"line\">netstat[选项]</span><br><span class=\"line\">-an 按一定顺序排列输出</span><br><span class=\"line\">-p  显示哪个进程在使用</span><br><span class=\"line\">eg netstat -anp | grep sshd</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">进程</span><br><span class=\"line\">linux:在linux 中 每个执行的程序（代码）都被称为一个进程，每一个进程都分配一个id</span><br><span class=\"line\">每一个进程都分配一个父进程。而这个父进程可以复制多个子进程，例如www服务器</span><br><span class=\"line\"> 前台进程和后台进程，前台进程：可视化的界面操作，后台；静悄悄运行的进程</span><br><span class=\"line\">一般系统服务是以后台进的方式存在。直到关机才结束。</span><br><span class=\"line\"></span><br><span class=\"line\">ps命令是用来显示目前系统中，有哪些正在执行，以及他们执行情况。 可以不加任何参数</span><br><span class=\"line\">选项  ps -aux | grep xxx</span><br><span class=\"line\">-a: 显示当前终端所有进程信息</span><br><span class=\"line\">-u: 以用户格式显示进程信息</span><br><span class=\"line\">-x :显示后台进程运行的参数</span><br><span class=\"line\">-9 强制删除</span><br><span class=\"line\">user:用户名 PID 进程id  cpu ：占用cpu  %mem :占用内存 vsz:使用虚拟内存  rss:使用物理内存 tty:使用终端</span><br><span class=\"line\"><span class=\"built_in\">stat</span>:s休眠r运行 start:启动时间 time:占用cpu 的主时间 <span class=\"built_in\">command</span> 进程启动命令行</span><br><span class=\"line\">eg ：查看sshd 进程 ：ps -aux | grep sshd</span><br><span class=\"line\"></span><br><span class=\"line\">查看父进程 ps -ef | grep sshd</span><br><span class=\"line\">                 ps -ef | more</span><br><span class=\"line\">PPID :父进程</span><br><span class=\"line\">-e:显示所有进程 -f 全格式</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">终止进程 <span class=\"built_in\">kill</span></span><br><span class=\"line\">若是某个进程执行一半需要停止时，或是已经消耗了很大的系统资源，此时可以考虑停止进程。</span><br><span class=\"line\">考略使用<span class=\"built_in\">kill</span> 命令来完成次项目。</span><br><span class=\"line\"><span class=\"built_in\">kill</span> -9 进程id</span><br><span class=\"line\"><span class=\"built_in\">kill</span>  进程id</span><br><span class=\"line\">killall xx 关闭父进程   killall gedit</span><br><span class=\"line\">查看终端：ps -aux | grep bash   查看/bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">查看进程树ptree</span><br><span class=\"line\">-p 显示进程pid</span><br><span class=\"line\">-u 显示进程的所属用户</span><br><span class=\"line\"></span><br><span class=\"line\">rpm包管理：</span><br><span class=\"line\">一种用于互联网下载包的打包及安装工具；红帽软件包管理</span><br><span class=\"line\">查询指令：rpm -qa | grep xx</span><br><span class=\"line\">rpm -qa 查询所安装rpm 软件</span><br><span class=\"line\">rpm -qa | more  分页显示</span><br><span class=\"line\">rpm -q  软件包 软件包是否安装</span><br><span class=\"line\">rpm -qi 软件包名 ：查询软件包信息</span><br><span class=\"line\">rpm -ql 软件包名称 ：查询安装的路径</span><br><span class=\"line\">rpm -qf 文件夹名称 查询文件所属软件包</span><br><span class=\"line\"></span><br><span class=\"line\">卸载rpm包</span><br><span class=\"line\">rpm -e RPM包名称</span><br><span class=\"line\">强制删除：rpm -e --nodeps foo</span><br><span class=\"line\"></span><br><span class=\"line\">安装rpm包</span><br><span class=\"line\">rpm -ivh 软件安装目录</span><br><span class=\"line\">-i:install 安装</span><br><span class=\"line\">-v : verbose 提示</span><br><span class=\"line\">-h :<span class=\"built_in\">hash</span> 进度条</span><br><span class=\"line\"></span><br><span class=\"line\">yum 是一个shell前端软件管理包，基于rpm包管理，能够指定服务器自动下载rpm并且安装，</span><br><span class=\"line\">可以自动处理依赖关系，并且一次安装所有依赖的软件包。</span><br><span class=\"line\">yum指令：查询服务器是否有需要安装的软件 ：</span><br><span class=\"line\">                yum list | grep xx软件列表</span><br><span class=\"line\">                安装指定软件包 ： yum intsall  xxx下载列表</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">java ee 环境搭建</span><br><span class=\"line\">将软件 通过xftp5 上传到/opt 下</span><br><span class=\"line\">解压到/opt  eg:tar -zxvf jdk..</span><br><span class=\"line\">配置环境变量文件 vi /etc/profile</span><br><span class=\"line\">JAVA_HOME=/opt/jdk1.7.0_79</span><br><span class=\"line\">PATH=/opt/jdk1.7.0_7.9/bin:/usr/<span class=\"built_in\">local</span>/mysql/bin:<span class=\"variable\">$PATH</span>  以前路径连接</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME PATH   环境变量生效</span><br><span class=\"line\">需要注销用户，环境变量才生效。 3，运行级别：<span class=\"built_in\">logout</span> 5 :注销</span><br><span class=\"line\"></span><br><span class=\"line\">安装tomcat:</span><br><span class=\"line\">解压缩到/opt</span><br><span class=\"line\">启动tomcat   <span class=\"built_in\">cd</span>  tomcat/bin   执行 ./start.sh</span><br><span class=\"line\">开放端口 vI /etc/sysconfig/iptables 开发8080端口</span><br><span class=\"line\">重启防火墙</span><br><span class=\"line\">测试是否安装成功</span><br><span class=\"line\">  ....................................完结撒花..................................................</span><br><span class=\"line\">  -----------------------------------后续来补shell ------------------------------------------</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"Linux","slug":"Linux","count":2,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":2,"path":"api/tags/Linux.json"}]}